<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Permissive (ISO8601.ISO8601.Permissive)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../_odoc_support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">ISO8601</a> &#x00BB; <a href="../index.html">ISO8601</a> &#x00BB; Permissive</nav><header class="odoc-preamble"><h1>Module <code><span>ISO8601.Permissive</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#date-parsing">Date parsing</a></li><li><a href="#printing-functions">Printing functions</a></li></ul></nav><div class="odoc-content"><h3 id="date-parsing"><a href="#date-parsing" class="anchor"></a>Date parsing</h3><p><code>date</code>, <code>time</code> and <code>datetime</code> parse a <code>string</code> and return the corresponding timestamp (as <code>float</code>).</p><p>Times are <b>always</b> converted to UTC representation.</p><p>For each of these functions, a <code>_lex</code> suffixed function read from a <code>Lexing.lexbuf</code> instead of a <code>string</code>.</p><p><code>datetime</code> functions also take an optional boolean <code>reqtime</code> indicating if parsing must fail if a date is given and not a complete datetime. (Default is true).</p><p>Functions with <code>_tz</code> in their name return a <code>float * float option</code> representing <code>timestamp * offset option (timezone)</code>. <code>timestamp</code> will be the UTC time, and <code>offset option</code> is just an information about the original timezone.</p><div class="odoc-spec"><div class="spec value anchored" id="val-date_lex"><a href="#val-date_lex" class="anchor"></a><code><span><span class="keyword">val</span> date_lex : <span><span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date"><a href="#val-date" class="anchor"></a><code><span><span class="keyword">val</span> date : <span>string <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time_tz_lex"><a href="#val-time_tz_lex" class="anchor"></a><code><span><span class="keyword">val</span> time_tz_lex : <span><span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf <span class="arrow">&#45;&gt;</span></span> float * <span>float option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time_lex"><a href="#val-time_lex" class="anchor"></a><code><span><span class="keyword">val</span> time_lex : <span><span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time_tz"><a href="#val-time_tz" class="anchor"></a><code><span><span class="keyword">val</span> time_tz : <span>string <span class="arrow">&#45;&gt;</span></span> float * <span>float option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time"><a href="#val-time" class="anchor"></a><code><span><span class="keyword">val</span> time : <span>string <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-datetime_tz_lex"><a href="#val-datetime_tz_lex" class="anchor"></a><code><span><span class="keyword">val</span> datetime_tz_lex : 
  <span>?reqtime:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf <span class="arrow">&#45;&gt;</span></span>
  float * <span>float option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-datetime_lex"><a href="#val-datetime_lex" class="anchor"></a><code><span><span class="keyword">val</span> datetime_lex : <span>?reqtime:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-datetime_tz"><a href="#val-datetime_tz" class="anchor"></a><code><span><span class="keyword">val</span> datetime_tz : <span>?reqtime:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> float * <span>float option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-datetime"><a href="#val-datetime" class="anchor"></a><code><span><span class="keyword">val</span> datetime : <span>?reqtime:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><h3 id="printing-functions"><a href="#printing-functions" class="anchor"></a>Printing functions</h3><p><b>NB: fractional part of timestamps will be lost when printing with current implementation.</b></p><div class="odoc-spec"><div class="spec value anchored" id="val-pp_format"><a href="#val-pp_format" class="anchor"></a><code><span><span class="keyword">val</span> pp_format : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pp_format fmt format x tz</code></p><p><code>x</code> is the timestamp, and <code>tz</code> the time zone offset.</p><p>The <code>format</code> string is a character string which contains two types of objects: plain characters, which are simply copied to <code>fmt</code>, and conversion specifications, each of which causes conversion and printing of (a part of) <code>x</code> or <code>tz</code>.</p><p><b>If you do not want to use a timezone, set it to 0.</b></p><p>Conversion specifications have the form <code>%X</code>, where X can be:</p><ul><li><code>Y</code>: Year</li><li><code>M</code>: Month</li><li><code>D</code>: Day</li><li><code>h</code>: Hours</li><li><code>m</code>: Minutes</li><li><code>s</code>: Seconds</li><li><code>Z</code>: Hours of <code>tz</code> offset (with its sign)</li><li><code>z</code>: Minutes of <code>tz</code> offset (without sign)</li><li><code>%</code>: The '%' character</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_date"><a href="#val-pp_date" class="anchor"></a><code><span><span class="keyword">val</span> pp_date : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%Y-%M-%D&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_date"><a href="#val-string_of_date" class="anchor"></a><code><span><span class="keyword">val</span> string_of_date : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_date_basic"><a href="#val-pp_date_basic" class="anchor"></a><code><span><span class="keyword">val</span> pp_date_basic : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%Y%M%D&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_date_basic"><a href="#val-string_of_date_basic" class="anchor"></a><code><span><span class="keyword">val</span> string_of_date_basic : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_time"><a href="#val-pp_time" class="anchor"></a><code><span><span class="keyword">val</span> pp_time : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%h:%m:%s&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_time"><a href="#val-string_of_time" class="anchor"></a><code><span><span class="keyword">val</span> string_of_time : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_time_basic"><a href="#val-pp_time_basic" class="anchor"></a><code><span><span class="keyword">val</span> pp_time_basic : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%h%m%s&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_time_basic"><a href="#val-string_of_time_basic" class="anchor"></a><code><span><span class="keyword">val</span> string_of_time_basic : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_datetime"><a href="#val-pp_datetime" class="anchor"></a><code><span><span class="keyword">val</span> pp_datetime : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%Y-%M-%DT%h:%m:%s&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_datetime"><a href="#val-string_of_datetime" class="anchor"></a><code><span><span class="keyword">val</span> string_of_datetime : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_datetime_basic"><a href="#val-pp_datetime_basic" class="anchor"></a><code><span><span class="keyword">val</span> pp_datetime_basic : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%Y%M%DT%h%m%s&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_datetime_basic"><a href="#val-string_of_datetime_basic" class="anchor"></a><code><span><span class="keyword">val</span> string_of_datetime_basic : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_datetimezone"><a href="#val-pp_datetimezone" class="anchor"></a><code><span><span class="keyword">val</span> pp_datetimezone : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span>(float * float)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%Y-%M-%DT%h:%m:%s%Z:%z&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_datetimezone"><a href="#val-string_of_datetimezone" class="anchor"></a><code><span><span class="keyword">val</span> string_of_datetimezone : <span><span>(float * float)</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_datetimezone_basic"><a href="#val-pp_datetimezone_basic" class="anchor"></a><code><span><span class="keyword">val</span> pp_datetimezone_basic : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span>(float * float)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>&quot;%Y%M%DT%h%m%s%Z%z&quot; format.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_datetimezone_basic"><a href="#val-string_of_datetimezone_basic" class="anchor"></a><code><span><span class="keyword">val</span> string_of_datetimezone_basic : <span><span>(float * float)</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div></div></body></html>